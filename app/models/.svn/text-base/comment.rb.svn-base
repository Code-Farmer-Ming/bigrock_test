# == Schema Information
#
# Table name: comments
#
#  id               :integer       not null, primary key
#  commentable_id   :integer       
#  up               :integer       default(0)
#  down             :integer       default(0)
#  content          :string(255)   
#  user_id          :integer       
#  created_at       :datetime      
#  updated_at       :datetime      
#  commentable_type :string(255)   
#

class Comment < ActiveRecord::Base
  belongs_to :commentable ,:polymorphic => true,:counter_cache=>true#TODO, :touch => true # 2.3.4使用的 添加删除 comments的时候 更新 topic的 updated_at
  belongs_to :user ,:class_name=>"UserRegisterInfo",:foreign_key=>"user_id"
  named_scope :hot_comments,:conditions=>["up>10"],:order=>"comments.up desc"
 
end
